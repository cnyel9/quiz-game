<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Meta Tag Dasar -->
    <meta
      name="description"
      content="Seru Tapi Miskin - Platform Quiz Seru dan Mendidik. Uji Pengetahuanmu dengan Berbagai Kategori Menarik!"
    />
    <meta
      name="keywords"
      content="quiz, permainan edukasi, kuis online, pengetahuan umum, matematika, sejarah"
    />

    <!-- Meta Tag Open Graph untuk Social Media -->
    <meta property="og:title" content="Seru Tapi Miskin - Quiz Seru" />
    <meta
      property="og:description"
      content="Platform quiz seru yang menguji pengetahuanmu di berbagai kategori"
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://serutapimiskin.com" />
    <meta property="og:image" content="path/to/preview-image.jpg" />

    <!-- Meta Tag Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Seru Tapi Miskin - Quiz Seru" />
    <meta
      name="twitter:description"
      content="Platform quiz seru yang menguji pengetahuanmu di berbagai kategori"
    />
    <meta name="twitter:image" content="path/to/preview-image.jpg" />

    <!-- Verifikasi meta tag google -->
    <meta name="google-site-verification" content="your-verification-code" />

    <!-- Kontrol Indeks dan Crawling -->
    <meta name="robots" content="index, follow" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ²</text></svg>"
    />
    <title>Seru Tapi Miskin - Quiz Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/localforage@1.10.0/dist/localforage.min.js"></script>
    <style>
      /* Pastikan body dapat di-scroll saat detail terbuka */
      body {
        overflow-y: auto;
        overscroll-behavior-y: contain;
      }

      /* Styling untuk details agar responsif */
      details {
        width: 100%;
      }

      details > summary {
        list-style: none;
        display: flex;
        align-items: center;
        cursor: pointer;
      }

      details > summary::-webkit-details-marker {
        display: none;
      }

      details > summary::after {
        content: "â–¼";
        margin-left: auto;
        transition: transform 0.3s ease;
      }

      details[open] > summary::after {
        transform: rotate(180deg);
      }

      /* Media query untuk responsivitas */
      @media (max-width: 640px) {
        .pt-20 {
          padding-top: 5rem;
          margin-top: 2rem;
        }

        body {
          align-items: flex-start;
        }

        .max-w-md {
          max-width: 100%;
          width: 95%;
          margin: 0 auto;
        }
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-r from-purple-400 via-pink-500 to-red-500 min-h-screen flex items-center justify-center"
  >
    <nav
      class="fixed top-0 left-0 right-0 z-50 bg-white/20 backdrop-blur-md shadow-lg transition-all duration-300 ease-in-out"
    >
      <div
        class="container mx-auto px-4 py-3 flex justify-between items-center"
      >
        <div class="flex items-center space-x-4">
          <a
            href="index.html"
            class="text-2xl font-bold text-white drop-shadow-lg hover:text-purple-200 transition-colors duration-300"
          >
            Seru Tapi Miskin
          </a>
        </div>

        <div class="flex items-center space-x-6">
          <div class="flex space-x-4">
            <a
              href="cara-main.html"
              class="text-white hover:text-purple-200 transition-colors duration-300 flex items-center space-x-2"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 md:mr-2"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="{2}"
                  d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
              <span class="hidden md:inline">Cara Main</span>
            </a>
            <a
              href="leaderboard.html"
              class="text-white hover:text-purple-200 transition-colors duration-300 flex items-center space-x-2"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 md:mr-2"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="{2}"
                  d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                />
              </svg>
              <span class="hidden md:inline">Peringkat</span>
            </a>
          </div>

          <div class="flex items-center space-x-4">
            <a
              href="profile.html"
              class="text-white hover:text-purple-200 transition-all duration-300 transform hover:scale-110"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="{2}"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                />
              </svg>
            </a>
            <button
              onclick="logout()"
              class="text-white hover:text-red-300 transition-all duration-300 transform hover:scale-110"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="{2}"
                  d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </nav>
    <!-- AKHIR NAVBAR -->
    <div
      class="pt-20 mt-8 bg-white p-8 rounded-xl shadow-2xl text-center max-w-md w-full"
    >
      <h1 class="text-3xl font-bold mb-6 text-purple-600">Seru Tapi Miskin</h1>

      <div id="username-section" class="space-y-4">
        <h2 class="text-xl text-gray-700">Masukkan Username Kamu</h2>
        <input
          type="text"
          id="username-input"
          placeholder="Nama Kamu"
          class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
          maxlength="15"
        />
        <button
          onclick="saveUsername()"
          class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-lg hover:scale-105 transform transition"
        >
          Mulai Bermain
        </button>
      </div>

      <div id="menu-section" class="hidden space-y-4">
        <h2 id="welcome-text" class="text-xl text-gray-700"></h2>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-purple-600">
            Pilih Kategori Quiz
          </h3>

          <div class="space-y-2">
            <details class="bg-white border border-gray-200 rounded-lg">
              <summary
                class="px-4 py-3 cursor-pointer text-left text-gray-700 font-semibold hover:bg-gray-100 rounded-lg"
              >
                Quiz Acak
              </summary>
              <div class="p-4 bg-gray-50 rounded-b-lg">
                <a
                  href="quiz.html"
                  class="block w-full text-center bg-purple-500 text-white py-2 rounded hover:bg-purple-600 transition"
                >
                  Mulai Quiz Acak
                </a>
                <p class="text-sm text-gray-600 mt-2">
                  Pertanyaan dari berbagai kategori akan dipilih secara acak
                </p>
              </div>
            </details>

            <details class="bg-white border border-gray-200 rounded-lg">
              <summary
                class="px-4 py-3 cursor-pointer text-left text-gray-700 font-semibold hover:bg-gray-100 rounded-lg"
              >
                Quiz Berdasarkan Kategori
              </summary>
              <div class="p-4 bg-gray-50 space-y-2 rounded-b-lg">
                <a
                  href="quiz.html?category=Matematika"
                  class="block w-full text-center bg-green-500 text-white py-2 rounded hover:bg-green-600 transition"
                >
                  Quiz Matematika
                </a>
                <a
                  href="quiz.html?category=Pengetahuan Umum"
                  class="block w-full text-center bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition"
                >
                  Quiz Pengetahuan Umum
                </a>
                <a
                  href="quiz.html?category=Sejarah"
                  class="block w-full text-center bg-red-500 text-white py-2 rounded hover:bg-red-600 transition"
                >
                  Quiz Sejarah
                </a>
              </div>
            </details>
          </div>
        </div>

        <a
          href="leaderboard.html"
          class="block bg-gray-200 text-purple-600 py-3 rounded-lg hover:bg-gray-300 mt-4"
        >
          Lihat Peringkat
        </a>
      </div>
    </div>

    <script>
      let lastScrollTop = 0;
      const navbar = document.querySelector("nav");

      window.addEventListener(
        "scroll",
        function () {
          let currentScroll =
            window.pageYOffset || document.documentElement.scrollTop;

          if (currentScroll > lastScrollTop) {
            // Scroll down
            navbar.classList.add("-translate-y-full");
            navbar.classList.add("opacity-0");
          } else {
            // Scroll up
            navbar.classList.remove("-translate-y-full");
            navbar.classList.remove("opacity-0");
          }

          lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
        },
        false
      );

      // Untuk logout
      function logout() {
        localforage.removeItem("username").then(() => {
          window.location.href = "index.html";
        });
      }

      // Cek username saat halaman dimuat
      document.addEventListener("DOMContentLoaded", async () => {
        const savedUsername = await localforage.getItem("username");

        if (savedUsername) {
          document.getElementById("username-section").classList.add("hidden");
          document.getElementById("menu-section").classList.remove("hidden");
          document.getElementById(
            "welcome-text"
          ).textContent = `Hai, ${savedUsername}! ðŸ‘‹`;
        }
      });

      // Fungsi simpan username
      async function saveUsername() {
        const usernameInput = document.getElementById("username-input");
        const username = usernameInput.value.trim();

        if (username === "") {
          alert("Username tidak boleh kosong!");
          return;
        }

        if (username.length > 15) {
          alert("Username maksimal 15 karakter!");
          return;
        }

        try {
          // Simpan username di local storage
          await localforage.setItem("username", username);

          // Sembunyikan input, tampilkan menu
          document.getElementById("username-section").classList.add("hidden");
          document.getElementById("menu-section").classList.remove("hidden");
          document.getElementById(
            "welcome-text"
          ).textContent = `Hai, ${username}! ðŸ‘‹`;
        } catch (error) {
          console.error("Gagal menyimpan username", error);
          alert("Terjadi kesalahan. Coba lagi.");
        }
      }
    </script>
  </body>
</html>
